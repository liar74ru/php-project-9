<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Анализатор страниц</title>
    <!-- Bootstrap 5.3.2 с правильным integrity -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" 
          rel="stylesheet" 
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" 
          crossorigin="anonymous">
</head>
<body class="min-vh-100 d-flex flex-column">
    <header class="flex-shrink-0">
        <nav class="navbar navbar-expand-md navbar-dark bg-dark px-3">
            <div class="container-fluid">
                <a class="navbar-brand" href="<?= $router->urlFor('home') ?>">Анализатор страниц</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link <?= ($choice === 'home' ? 'active' : '') ?>" href="<?= $router->urlFor('home') ?>">Главная</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link <?= ($choice === 'urls' ? 'active' : '') ?>" href="<?= $router->urlFor('urls.index') ?>">Сайты</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

<main class="flex-grow-1">
    <div class="container-lg mt-3">
        <div class="row">
            <div class="col-12 col-md-10 col-lg-8 mx-auto border rounded-3 bg-light p-5">
                <h1 class="display-3">Анализатор страниц</h1>
                <p class="lead">Бесплатно проверяйте сайты на SEO пригодность</p>
                
                <!-- Вывод ошибок -->                
                <form action="<?= $router->urlFor('urls.store') ?>" method="post" class="row">
                    <div class="col-8">
                        <label for="text" class="visually-hidden">URL для проверки</label>
                        <input type="text" 
                               name="url[name]" 
                               class="form-control form-control-lg <?= !empty($errors) ? 'is-invalid' : '' ?>" 
                               placeholder="https://www.example.com"
                               value="<?= isset($urlValue) ? htmlspecialchars($urlValue) : '' ?>">
                        <?php if (isset($errors)): ?>
                            <div class="invalid-feedback">
                                <?= htmlspecialchars($errors['errorMessage']) ?>
                            </div>
                        <?php endif; ?>
                    </div>
                    <div class="col-4">
                        <input type="submit" class="btn btn-primary btn-lg w-100 text-uppercase" value="Проверить">
                    </div>
                </form>
            </div>
        </div>
    </div>
</main>

<footer class="border-top py-3 mt-auto flex-shrink-0">
    <div class="container-lg">
        <div class="text-center">
            <a href="https://hexlet.io/pages/about" target="_blank" rel="noopener noreferrer">Hexlet</a>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" 
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" 
        crossorigin="anonymous"></script>
    </body>
</html>